{% load i18n apphooks_config_tags cms_tags %}

<div class="aldryn aldryn-newsblog aldryn-newsblog-articles">

    <div class="d-flex align-items-center justify-content-between mt-3 mb-4">
        <span class="spitzmarke-lg">Latest blog entries</span>
        <a class="text-secondary section-link" href="{% namespace_url 'article-list' namespace=instance.app_config.namespace %}">
            Go to blog
            {% include 'includes/icon.html' with icon='external' %}
        </a>
    </div>

    <div class="carousel js-carousel row" data-carousel='{
        "dots": true,
        "autoplay": true
    }'>
        <div class="carousel-inner">
            {% for article in article_list %}
                <div class="carousel-item">
                    {% with namespace=instance.app_config.namespace %}
                        <div class="card">
                            <div class="card-body">
                                <h4 class="card-title"><a href="{% namespace_url 'article-detail' article.slug namespace=namespace default='' %}">{% render_model article "title" %}</a></h4>
                                <div class="mb-3">
                                    {% render_model article "lead_in" "" "" "truncatewords_html:'20'" %}
                                </div>
                                <hr>
                                {% include "aldryn_newsblog/includes/author.html" with author=article.author %}
                            </div>
                        </div>
                    {% endwith %}
                </div>
            {% endfor %}
        </div>
    </div>
</div>
